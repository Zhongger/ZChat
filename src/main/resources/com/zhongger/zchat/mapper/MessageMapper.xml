<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhongger.zchat.mapper.MessageMapper">
    <insert id="insert" parameterType="com.zhongger.zchat.entity.Message">
        insert into message (sender,message_id,conversation_id,type,create_time,content) value (#{sender},#{message_id},#{conversation_id},#{type},#{create_time},#{content})
    </insert>
    <resultMap id="sele" type="com.zhongger.zchat.entity.Message">
        <result column="sender" property="sender"></result>
        <result column="message_id" property="message_id"></result>
        <result column="conversation_id" property="conversation_id"></result>
        <result column="type" property="type"></result>
        <result column="create_time" property="create_time"></result>
        <result column="content" property="content"></result>
    </resultMap>
    <select id="selectforcontent" resultMap="sele">
        select sender,message_id,conversation_id,type,create_time,content from  message where content like
      <bind name="content" value="'%'+content+'%'"/>
        #{content}
    </select>
</mapper>
